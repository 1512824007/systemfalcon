<!doctype html>
<html lang="en">
<head>
   <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/static/public/plugin/Chosen/chosen.min.css">
    <link rel="stylesheet" href="/static/public/plugin/bootstrap-3.3.7/css/bootstrap.css">
    <link rel="stylesheet" href="/static/public/plugin/bootstrap-3.3.7/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/static/public/css/R.css">

    <link rel="shortcut icon" href="/static/img/favicon.ico">
    <script type="text/javascript" src="/static/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/static/public/plugin/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <!-- you need to include the shieldui css and js assets in order for the charts to work -->
    <link href="/static/css/bootstrap-datetimepicker.css" rel="stylesheet"/>
    <link href="/static/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="/static/js/shieldui-all.min.js"></script>
    <script type="text/javascript" src="/static/js/gridData.js"></script>
    <script src="/static/js/echarts-all-3.js"></script>
    <script src="/static/js/china.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
    <script type="text/javascript" src="/static/js/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
    <script src="/static/js/underscore.js"></script>
    <script src="/static/Hchartscode/highcharts.js"></script>
    <script src="/static/Hchartscode/modules/data.js"></script>
    <script src="/static/js/g.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <title>监控系统</title>
</head>
<body>
<div class="monitorBox">
    <nav class="topbar navbar navbar-inverse navbar-fixed-top">
        <div class="containerBox">
            <div class="navbar-header">
                <a class="navbar-brand logoBox" href="#">监控系统</a>
                <a class="navbar-brand" href="" style="font-size:14px;float:right">
                    <i class="glyphicon glyphicon-off"></i>
                    退出
                </a>
                <a class="navbar-brand" href="" style="font-size:14px;float:right">
                    <i class="glyphicon glyphicon-user"></i>
                    {{ request.user }}
                </a>
            </div>
        </div>
    </nav>
    <div class="monitorContainer">
        <ul  class="nav nav-tabs">
            <li role="presentation"><a href="/monitor/Dashboard/">dashboard</a></li>
            <li role="presentation"><a href="/monitor/MonitorInfo/">监控信息</a></li>
            <li role="presentation" class="active"><a href="/monitor/MonitorManage/">系统配置</a></li>
            <li role="presentation"><a href="#">资源管理</a></li>
            <li role="presentation"><a href="#">变更管理</a></li>
            <li role="presentation"><a href="/monitor/sysconf/user_manage/">用户管理</a></li>
            <li role="presentation"><a href="#">安全检测</a></li>
            <li role="presentation"><a href="#">FAQ</a></li>
        </ul>
        <div class="Content">
            <h4 style="color: #1a78b5;padding: 0 30px;margin: 0;font-size:16px;">系统配置<a class="backMonitor" href="/monitor/MonitorManage/">返回</a></h4>
            <div class="row monitorInfoBox" style="position: relative;padding: 15px;min-width:1170px">
                <ul class="list-group pull-right" style="width: 60%;max-width:180px;text-align: center;position: absolute;top:15px;left: 40px;">
                    <li class="list-group-item tabActive"><a data-url="" class="UrlStorageClick" >实时状态</a></li>
                    <li class="list-group-item"><a data-url="/monitor/MonitorManage/SaltManagementManage/" class="UrlStorageClick" >发布管理</a></li>
                </ul>
                <div  style="margin-left: 205px;background: #fff;border:1px solid #f1f1f1;padding:0 10px 30px 10px;">
                    <div class="row ">
                        <div class="col-xs-12">
                            <div class="dashboardItem">
                            {% include 'view/systemconfig/message.html' %}
                            <label class="col-md-12" style="color: #FF5733">{{ error|safe }}</label>
                                <div class="dashboardItemTitle">
                                    <span class="col-md-6">Salt详情日志</span><span class="col-md-6"><a href="/monitor/MonitorManage/SaltManagementManage/">返回</a></span>
                                </div>
                                <div class="dashboardItemContent">
                                    <table id="datatable" class="table table-striped table-bordered">
                                        <thead>
                                        <tr bgcolor="#3498DB">
                                            <td style="color: #FBEEE6;width: 20%">主机名称</td>
                                            <td style="color: #FBEEE6;width: 15%">JID</td>
                                            <td style="color: #FBEEE6;width: 15%">fun_args</td>
                                            <td style="color: #FBEEE6;width: 15%">fun</td>
                                            <td style="color: #FBEEE6;width: 50%">详情日志</td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for i in sql_list %}
                                            <tr>
                                                <td>{{ i.id }}</td>
                                                <td>{{ i.jid }}</td>
                                                <td>{{ i.fun_args }}</td>
                                                <td>{{ i.fun }}</td>
                                                <td>{{ i.return }}</td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a class="backTop"><i class="glyphicon glyphicon-menu-up"></i></a>
</div>
</body>
<script src="/static/public/plugin/jquery-1.12.4/jquery.min.js"></script>
<script src="/static/public/plugin/Chosen/chosen.jquery.min.js"></script>
<script src="/static/public/plugin/Pagination/pagination.js"></script>
<script src="/static/public/plugin/bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script src="/static/public/js/common.js"></script>
<script src="/static/public/js/R.js"></script>
<script>
    monitor.DashBoard();
</script>
<script>
    monitor.TroubleList();
</script>
<script>
    monitor.Device();
</script>
<script>
    monitor.MonitorInfo();
</script>
<script>
    monitor.ServerRoom();
</script>
<script>
    monitor.TroubleBI();
</script>
<script>
    monitor.TroubleInfo();
</script>
<script>
    monitor.UserRequest();
</script>
<script src="/static/js/jquery.dataTables.min.js"></script>
<script src="/static/js/dataTables.bootstrap.min.js"></script>
<!-- Datatables -->
<script>
    $(document).ready(function() {
            $('#datatable').dataTable({
                 "pagingType":   "full_numbers",
                 "autoFill": true,
		         "iDisplayLength": 15,
		         "aLengthMenu": [[15,25, 50, 100, -1], [15,25, 50, 100, "All"]]
		       });
            });
</script>

<!-- /Datatables -->
<script>
/* 全选/反选
   formName所在form的name值
   checkboxName checkbox的name值
   注意：所有checkbox的name值必须一样
*/
var checkedAll = false;
function selectAll(formName,checkboxName){
    var form = document.all.item(formName);
    var elements = form.elements[checkboxName];
    for(var i=0;i<elements.length;i++){
        var e = elements[i];
        if(checkedAll){
            e.checked = false;
            form.alls.checked = false;
        }else{
            e.checked = true;
            form.alls.checked = true;
        }
    }
    if(checkedAll){
        checkedAll = false;
    }else{
        checkedAll = true;
    }
}
/* 检查是否有checkbox被选中
   checkbox的name值必须一样，这样才能达到全选效果
*/
function checkAll(formName,checkboxName){
    var hasCheck = false;
    var form = document.all.item(formName);
    var elements = form.elements[checkboxName];
    for(var i=0;i<elements.length;i++){
        var e = elements[i];
        if(e.checked){
            hasCheck = true;
        }
    }
    return hasCheck;
}
/* 执行操作 */
function do_action(){
    if(!checkAll("formName","id")){
        alert("请至少选择一项！");
    }
}
</script>

<script LANGUAGE="JavaScript">
    function del() {
        var msg =confirm("您真的确定要删除吗？");
        if(msg==true){
            return true;
        }
        else {
            return false;
        }

    }
</script>

</html>
